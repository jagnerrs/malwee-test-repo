@using MalweeTest.Entities.ViewModel
@model List<List<TopClienteViewModel>>

<table class="table">
    <tr>
        <th>Mês</th>
        <th>Cliente</th>
        <th class="text-right">Valor Total</th>
    </tr>

    @foreach (var item in Model)
    {
        <tr rowspan="3">
            <td style="background-color: lightgray" colspan="3">@(Util.MonthDescription(item[0].Mes))</td>
            @for (int i = 0; i < ((item.Count > 3) ? 3 : item.Count); i++)
            {
                <tr>
                    <td></td>
                    <td>@(item[i].Cliente.Nome)</td>
                    <td class="text-right">@(((decimal)item[i].Valor).ToString("N2"))</td>
                </tr>
            }
        </tr>
     }
    @if (Model != null && Model.Count < 12)
    {
        <tr rowspan="3">
            <td style="background-color: lightgray">@(Util.MonthDescription(Model.Count + 1))</td>
            <td style="background-color: lightgray" colspan="3">SEM CLIENTES</td>
        </tr>
    }
</table>
